# Documentation revision history

<table><thead><tr><th width="155">WEKA version</th><th>Description of changes</th></tr></thead><tbody><tr><td>4.2.15</td><td><ul><li>Added a verification step for <strong>LLQ and WC</strong> in the upgrade workflow. To ensure proper LLQ functionality after upgrades, verify that Write Combining (WC) is enabled in the igb_uio driver.</li></ul></td></tr><tr><td>4.2.14</td><td><p></p><ul><li><p>Extended support for operating systems on:</p><ul><li>Clients: RHEL/Rocky Linux 9.4, AlmaLinux 9.4, 8.10, Debian 12.</li><li>Backends: RHEL/Rocky Linux 9.4.</li></ul></li><li>Update: Object store types now included in Analytics reports on WEKA Home.</li><li>New topic: <a data-mention href="../fs/mounting-filesystems/manage-authentication-across-multiple-clusters-with-connection-profiles.md">manage-authentication-across-multiple-clusters-with-connection-profiles.md</a></li></ul></td></tr><tr><td>4.2.12.92</td><td><ul><li><p>Extended support for Linux kernel to Ubuntu 22:</p><ul><li>5.19, 6.2, 6.5.</li></ul></li></ul></td></tr><tr><td>4.2.12</td><td><ul><li>Extended support for operating systems on clients: RHEL/Rocky Linux 9.3,  Oracle Linux 9.</li><li>Extended support for Las_v3 machine types for backends on Microsoft Azure.</li></ul></td></tr><tr><td>4.2.11</td><td><ul><li>Customers can now see originating IP address information in S3 logs via the X-Forwarded-For header.</li><li>NFS Floating IP failover now contains a timeout as a mitigating factor during prolonged outages.</li><li>Limit increases for drives (20k), processes (20k), and NUMA nodes (20).</li><li>Added Rocky Linux 9.3 to supported operating systems on backends.</li></ul></td></tr><tr><td>4.2.10</td><td><ul><li>For both files and directories, relatime now produces reliable atime updates on large clusters. Previously, some conditions caused atime values to revert.</li><li>Customers can now transition between custom and predefined S3 bucket policies with one command.</li></ul></td></tr><tr><td>4.2.9</td><td><ul><li>Path optimization for S3 requests.</li><li>Custom bucket policies now accept only valid JSON through REST API.</li></ul></td></tr><tr><td>4.2.8</td><td><ul><li>Active-active network port usage in HA configurations using RDMA.</li><li>Better handling for cgroups with small memory footprints.</li><li>More graceful client upgrades with clusters that have been scaled in, preventing communication with backends that no longer exist.</li><li>STS session duration option available for IAM AssumeRole use with Amazon S3.</li></ul></td></tr><tr><td>4.2.7</td><td><ul><li>Initial support for the namespace feature in Hashicorp Vault.</li><li>Enhanced performance serving S3 GET requests using byte-range fetching.</li><li>Faster cleanup of failed multi-part upload parts.</li><li>Added support for Ubuntu 22.04.3 point release with 6.2-based kernel.</li><li>SMB-W now supports creating local mappings for AD users and groups using the rid ID-mapping, alongside the existing RFC2307 support.</li><li>Added support for using AssumeRole with Amazon IAM STS tokens when using Amazon S3.</li><li>Added support for floating IPs in AWS when using NFS.</li></ul></td></tr><tr><td>4.2.6</td><td><ul><li>Added IMDSv2 to the supported Amazon EC2 instances.</li><li>Certified Broadcom BCM957508-P2100G Dual-Port 100 Gb/s QSFP56 as supported.</li><li>Added support for IOMMU on WEKA backend servers with Mellanox NICs.</li><li>Certified OFED 23.10-0.5.5.0.</li><li>Added support for RHEL/Rocky Linux 9.2 operating system.</li><li>Updated the default provider of SMB services to SMB-W, replacing the legacy SMB.</li></ul></td></tr><tr><td>4.2.5</td><td><ul><li>Alerts are in place for the use of duplicate IP addresses.</li><li>Reduced likelihood of receiving false alerts for full quotas.</li><li>Better error handling for aborted S3 MultiPartUpload requests.</li><li>The <code>weka cluster failure-domain</code> CLI command is enhanced with more component fields.</li><li>No more umount/mount cycling for SCMC clients during upgrades.</li></ul></td></tr><tr><td>4.2.4</td><td><ul><li>Certified CX7 (Infiniband) as supported.</li><li>Non-disruptive upgrades of clients in more configurations.</li><li>When using NFS, the <code>df</code> command now reports WEKA quotas as expected.</li><li>ILM Policy deploys now use less memory when scaled to a billion objects.</li><li>Deleting empty buckets via S3 API works as expected.</li><li>To upgrade to 4.2.4, the source version must be 4.1.2.</li><li>If the S3 protocol is configured, contact Customer Success to confirm that ETCD (internal key-value store) has been upgraded to KWAS.</li></ul></td></tr><tr><td>4.2.3</td><td><ul><li>Added operating systems supported on clients: RHEL/Rocky Linux 8.8 and SuSe 15 SP4.</li><li>Added support for Vault 1.14  (certified from WEKA release 4.2.1).</li><li>NFS client connections are steady during floating address migration.</li><li>The <code>weka local upgrade</code> command now supports servers without frontend containers.</li><li>The <code>weka status</code> command output newly reflects the unavailable capacity.</li><li>The Synchronized Snapshot feature (the ability to perform incremental snapshots downloaded from an object store) is temporarily disabled. This feature will be reinstated upon subsequent release.</li></ul></td></tr><tr><td>4.2.2</td><td>N/A</td></tr><tr><td>4.2.1</td><td><ul><li>IAM support on GCP: You can access Google Cloud Storage using a service account with the required permissions granted by the IAM role.</li><li>NDU improvement: The non-disruptive upgrade process is now improved by upgrading the compute containers one at a time (rolling upgrade) while the remaining containers continue serving the clients.</li><li>E810 NIC support on MCB: The Intel E810 NIC is now supported in the multi-container backends (MCB) architecture.</li><li>Added support for Rocky 9.0, 9.1, and Ubuntu 22.04 on backends.</li></ul></td></tr><tr><td>4.2.0</td><td><ul><li>Mount filesystems from multiple clusters on a single client: You can mount filesystems from up to seven clusters in parallel on a single WEKA client for enhanced performance and use cases.</li><li><p>Snapshots improvements:</p><ul><li>Quickly download a previously taken snapshot to another cluster. Following that operation, metadata is auto-prefetched.</li><li>Allow IO operations continuity to the filesystem while restoring a snapshot (using a preserved snapshot name).</li><li>Added abort/pause snapshot download functions.</li></ul></li><li><p>WEKA CSI Plugin enhancements:</p><ul><li>Can control WEKA mount options through the storage class.</li><li>Snapshots and volume cloning.</li><li>Added support for k8s fsGroups.</li></ul></li><li>Increased organizations support: Increased the maximum number of supported organizations to 256 per cluster.</li><li>New GUI improvements: The GUI is improved with new features and operations, such as the insights page with top processes usage, drives load, and latency.</li><li><p>Azure cloud enhancement: </p><ul><li>Improved performance using DPDK networking and higher MTU.</li><li>Added support for auto-scaling.</li></ul></li><li><p>Interoperability updates:</p><ul><li>Added support for Mellanox OFED version 5.9-0.5.6.0.</li><li>Added support RHEL/Rocky Linux 9.1/9.0 and Ubuntu 22.04 for clients only (only use applications set with 2MB hugepages).</li></ul></li><li>HashiCorp Vault: Added support for HashiCorp Vault up to version 1.13.</li></ul><p><strong>Breaking changes and deprecations:</strong></p><ul><li>Removed the <code>auth_token</code> mount option.</li><li>Single protocol type per server support: A single WEKA server can now only have one protocol server (S3, SMB, or NFS). Adding an additional protocol process/server is no longer allowed. For clusters being upgraded, distribute the various (S3, SMB, or NFS) protocols across all the backend servers before running the upgrade.</li><li>Only the multi-container backend (MCB) architecture is supported: The legacy Single Container Backend (SCB) architecture, where each server in the cluster includes a single container with all the processes running on it, is deprecated in 4.1. To upgrade to 4.2, the source cluster must be in MCB architecture. Contact the WEKA Customer Success team to convert a 4.1 cluster in a legacy architecture to the MCB architecture.</li><li>ETCD replacement for S3 protocol improvement: The ETCD component, which stores the IAM format, policies, service accounts, users, STS, and policy mappings, is replaced by a more robust mechanism. When upgrading a cluster running with ETCD from V4.1, the cluster continues to run with ETCD in V4.2, and an alert is raised to migrate to the new mechanism. Contact the WEKA Customer Success team to perform this update.</li></ul></td></tr></tbody></table>
